(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(3),c=a.n(r),i=(a(15),a(4)),u=a(5),o=a(7),s=a(6),d=a(1),m=a(8);var h=function(e){var t,a=new Date(e.expectTimeLand),n="".concat(a.getHours()).padStart(2,"0"),r="".concat(a.getMinutes()).padStart(2,"0"),c=new Date(e.timeLandFact),i="".concat(c.getHours()).padStart(2,"0"),u="".concat(c.getMinutes()).padStart(2,"0"),o="landed at ".concat(i,":").concat(u);return l.a.createElement("tr",null,l.a.createElement("td",null,e.term),l.a.createElement("td",null,n,":",r),l.a.createElement("td",null,e.destionation),l.a.createElement("td",null,"LN"===(t=e.status)?o:"CX"===t?"Cansaled":"FR"===t?"in flight":"ON"===t?"On time":"n/d"),l.a.createElement("td",null,e.airline),l.a.createElement("td",null,e.flight),l.a.createElement("td",{className:"details"},l.a.createElement("a",{href:"#"},"Flight details")))};var p=function(e){var t=e.data.map(function(e){return l.a.createElement(h,{key:e.ID,term:e.term,airline:e.airline.en.name,flight:e.codeShareData[0].codeShare,status:e.status,destionation:e["airportFromID.city_en"],expectTimeLand:e.timeLandCalc,timeLandFact:e.timeLandFact})});return l.a.createElement(l.a.Fragment,null,t)};var E=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("table",{className:"arrival current_table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Terminal"),l.a.createElement("th",null,"Local time"),l.a.createElement("th",null,"Destination"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Airline"),l.a.createElement("th",null,"Flight"))),l.a.createElement("tbody",null,l.a.createElement(p,{data:e.data}))))};var g=function(e){var t=e.timeDepart,a=e.term,n=e.gate,r=e.destionation,c=e.airline,i=e.flight,u=e.status,o=e.timeDepFact,s=new Date(t),d=s.getHours(),m="".concat(s.getMinutes()).padStart(2,"0"),h=new Date(o),p=h.getHours(),E="".concat(h.getMinutes()).padStart(2,"0"),g="Departed at ".concat(p,":").concat(E);return l.a.createElement("tr",null,l.a.createElement("td",null,a),l.a.createElement("td",null,void 0!==n?n:"N/D"),l.a.createElement("td",null,d,":",m),l.a.createElement("td",null,r),l.a.createElement("td",null,function(e){switch(e){case"DP":return g;case"CX":return"Cansaled";case"CK":return"Check-in";case"ON":return"ON time";default:return"n/d"}}(u)),l.a.createElement("td",null,c),l.a.createElement("td",null,i),l.a.createElement("td",{className:"details"},l.a.createElement("a",{href:"#"},"Flight details")))};var D=function(e){var t=e.data.map(function(e){return l.a.createElement(g,{key:e.ID,gate:e.gateNo,destionation:e["airportToID.city_en"],term:e.term,airline:e.airline.en.name,flight:e.codeShareData[0].codeShare,timeDepart:e.timeDepExpectCalc,status:e.status,timeDepFact:e.timeDepFact})});return l.a.createElement(l.a.Fragment,null,t)};var y=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("table",{className:"departure current_table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Terminal"),l.a.createElement("th",null,"Gate"),l.a.createElement("th",null,"Local time"),l.a.createElement("th",null,"Destination"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Airline"),l.a.createElement("th",null,"Flight"))),l.a.createElement("tbody",null,l.a.createElement(D,{data:e.data}))))},b=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(s.a)(t).call(this,e))).state={data:null,displayDep:!0,displayDay:0},a.getDeparture=a.getDeparture.bind(Object(d.a)(a)),a.getArrival=a.getArrival.bind(Object(d.a)(a)),a.getTodayFlights=a.getTodayFlights.bind(Object(d.a)(a)),a.getYesterdayFlights=a.getYesterdayFlights.bind(Object(d.a)(a)),a.getTomorrowFlights=a.getTomorrowFlights.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.downloadData()}},{key:"getDeparture",value:function(){this.setState({displayDep:!0})}},{key:"getArrival",value:function(){this.setState({displayDep:!1})}},{key:"getTodayFlights",value:function(){this.setState({displayDay:0})}},{key:"getYesterdayFlights",value:function(){this.setState({displayDay:-1})}},{key:"getTomorrowFlights",value:function(){this.setState({displayDay:1})}},{key:"downloadData",value:function(){var e=this,t=new XMLHttpRequest,a=new Date,n="".concat(a.getMonth()+1).padStart(2,"0");console.log(n);var l="".concat(a.getDate()).padStart(2,"0");t.open("GET","https://api.iev.aero/api/flights/".concat(l,"-").concat(n,"-").concat(a.getFullYear()));var r=[];t.addEventListener("load",function(){r=JSON.parse(t.response),e.setState({data:r})}),t.send()}},{key:"render",value:function(){var e=this;if(null===this.state.data)return l.a.createElement("h2",null,"Buffering!");var t=new Date,a=t.getDate(),n=new Date((new Date).getTime()+864e5).getDate(),r=new Date((new Date).getTime()+864e5),c={day:n,month:r.getMonth()+1},i=new Date((new Date).getTime()-864e5).getDate(),u=new Date((new Date).getTime()-864e5),o={day:i,month:u.getMonth()+1},s="".concat(t.getMonth()+1).padStart(2,"0"),d=this.state.data.body.departure.filter(function(t){switch(e.state.displayDay){case 0:return+t.timeDepShedule.slice(8,10)===a;case 1:return+t.timeDepShedule.slice(8,10)===n;case-1:return+t.timeDepShedule.slice(8,10)===i;default:return null}}),m=this.state.data.body.arrival.filter(function(t){switch(e.state.displayDay){case 0:return+t.timeArrShedule.slice(8,10)===a;case 1:return+t.timeArrShedule.slice(8,10)===n;case-1:return+t.timeArrShedule.slice(8,10)===i;default:return null}});return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"wraper_button"},l.a.createElement("div",{className:"back"}),l.a.createElement("button",{className:this.state.displayDep?"button_dep active_button":"button_dep noactive_button",type:"button",id:"departure",onClick:this.getDeparture},"DEPARTURES"),l.a.createElement("button",{className:this.state.displayDep?"button_arr noactive_button":"button_arr active_button",type:"button",id:"arrival",onClick:this.getArrival},"ARRIVALS")),l.a.createElement("div",{className:"calendar"},l.a.createElement("button",{type:"button",id:"yesterday",onClick:this.getYesterdayFlights},"".concat(i).padStart(2,"0"),"/","".concat(o.month).padStart(2,"0"),l.a.createElement("br",null),"YESTERDAY"),l.a.createElement("button",{type:"button",id:"today",onClick:this.getTodayFlights},a,"/",s,l.a.createElement("br",null),"TODAY"),l.a.createElement("button",{type:"button",id:"tomorrow",onClick:this.getTomorrowFlights},"".concat(n).padStart(2,"0"),"/","".concat(c.month).padStart(2,"0"),l.a.createElement("br",null),"TOMORROW")),this.state.displayDep?l.a.createElement("div",null,l.a.createElement(y,{data:d})):l.a.createElement("div",null,l.a.createElement(E,{data:m})))}}]),t}(n.Component);var v=function(){return l.a.createElement(b,null)};c.a.render(l.a.createElement(v,null),document.getElementById("root"))},9:function(e,t,a){e.exports=a(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.3ce5a5e1.chunk.js.map